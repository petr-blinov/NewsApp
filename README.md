# NewsApp

Описание проекта

NewsApp - мобильное приложения для чтения свежих американских новостей


## Основные разделы приложения:
- News - экран, на который подгружаются заголовки текущих актуальных новостей;
- Search - экран поиска новостей по ключевому слову;
- Saved - экран для просмотра сохраненных новостей.


## Функционал приложения:

-> Навигация:

   - для переключения между основными экранами приложения (News, Search, Saved) используется TabBarController;
   - для навигации внутри каждого из разделов используется UINavigationController.
   
   
-> Экран News (см. ViewController):

   - при запуске приложения открывается экран News. На экране расположена таблица (tableView), в которую подгружаются заголовки текущих актуальных новостей;
   - для загрузки данных из сети используется вынесенный отдельно NetworkService, который закрыт протоколом NetworkServiceProtocol;
   - используемое API: newsapi.org;
   - изначально на страницу загружается 20 новостей. При прокрутке экрана вниз (а именно - в момент когда начинает отображаться последняя ячейка таблицы) - подгружаются следующие 20 новостей;
   - для обновления списка загруженных новостей используется pull-to-refresh;
   - по клику на ячейку таблицы (на заголовок новости) открывается экран с контентом выбранной статьи (ArticleContentViewController).


-> Экран с контентом выбранной статьи (см. ArticleContentViewController):

   - содержит следующие элементы: заголовок новости, дату публикации новости, фото, краткий текст новости, ссылку на источник новости;
   - контент страницы прокручивается по вертикали (используется Scroll view);
   - на панели навигации расположена кнопка Save, при клике на которую просматриваемая статья сохраняется в Core data;
   - также при нажатии кнопки Save отображается сообщение о том, что статья сохранена (используется Alert);
   - текст сообщения о сохранении отображается либо в стандартном варианте (без обращения по имени), либо в кастомизированном варианте (с обращением по имени). Имя пользователя берется из User Defaults (имя вводится и сохраняется в User Defaults по нажатию кнопки Personalize, см. описание ниже в разделе Search);
   - при клике на ссылку на источник новости открывается страница новости на сайте новостного агентства (Web view).


-> Экран Web view:

   - позволяет ознакомиться с полным текстом статьи на сайте новостного агентства;
   - реализован с помощью SFSafariViewController;
   - выход из режима просмотра Web view - по кнопке Done в левом верхнем углу экрана.


-> Экран Search (см. SearchViewController):

   - содержит поисковую строку, кнопку Personalize в правом верхнем углу экрана, а также таблицу с результатами поиска (таблицу с заголовками новостей);
   - строка поиска содержит плейсхолдер. Текст плейсхолдера отображается либо в стандартном варианте (без обращения по имени), либо в кастомизированном варианте (с обращением по имени). Имя пользователя берется из User Defaults (имя вводится и сохраняется в User Defaults по нажатию кнопки Personalize, см. описание ниже);
   - при вводе запроса в поисковую строку на сервер отправляется запрос и в таблицу подгружаются статьи по результатам поиска;
   - поисковый запрос отправляется с задержкой в 1 секунду (чтобы не ходить в сеть несколько раз после каждого введенного символа пока пользователь вводит поисковый запрос);
   - по клику на ячейку таблицы (на заголовок новости) открывается экран с контентом выбранной статьи (ArticleContentViewController);
   - при нажатии кнопки Personalize отображается Alert с текстовым полем, в которое пользователю предлагается ввести свое имя. После ввода имени и нажатия кнопки Done имя пользователя сохраняется в User Defaults. Далее имя пользователя используется для кастомизации текста плейсхолдера в строке поиска, а также для кастомизации текста уведомления о сохранении статьи (в Alert, который отображается при нажатии на кнопку Save на экране с контентом выбранной статьи).


-> Экран Saved (см. SavedNewsViewController):

   - содержит таблицу с заголовками сохраненных новостей;
   - данные для таблицы загружаются из Core data с помощью NSFetchedResultsController;
   - на панели навигации расположена кнопка Remove all, при клике на которую из Core data удаляются все сохраненные статьи;
   - также в таблице реализован Swipe-to-delete - для удаления свайпом любой отдельной статьи из таблицы;
   - по клику на ячейку таблицы (на заголовок новости) открывается экран с контентом выбранной статьи (см. SavedArticleContentViewController), структура которого аналогична ранее описанному ArticleContentViewController, отличие только в том что данные здесь забираются из Core Data и здесь нет кнопки Save (т.к. здесь пользователь просматривает уже сохраненную новость).



## Соответствие проекта требованиям:


- Использовать Core Data для хранения моделей данных - реализовано, при просмотре контента статьи в ArticleContentViewController пользователь может сохранить просматриваемую статью, нажав кнопку Save, статья сохраняется в Core Data;

- Использовать KeyChain/UserDefaults для пользовательских настроек - реализовано, для сохранения имени пользователя используется UserDefaults. Пользователь может ввести имя при нажатии кнопки Personalize на экране SearchViewController. Далее имя пользователя используется для кастомизации текста плейсхолдера в строке поиска на экране SearchViewController, а также для кастомизации текста уведомления о сохранении статьи (в Alert, который отображается при нажатии на кнопку Save на экране ArticleContentViewController);

- Использование Swift styleguides (Google styleguides)  - реализовано;

- Не использовать сторонние библиотеки - сторонние библиотеки не используются за исключением SnapshotTasting, которая добавлена для реализации Snapshot тестов в рамках домашнего задания по лекции 32 (добавить Snapshot тесты в итоговый проект);

- Использовать сеть - реализовано, данные загружаются из сети, см. NetworkService;

- Загружать медиа из сети - реализовано, на экране ArticleContentViewController для каждой статьи загружается фото;

- Минимальное количество экранов 3 - реализовано, общее количество экранов 6: News(ViewController), ArticleContentViewController, WebView (SFSafariViewController), Search (SearchViewController), Saved (SavedNewsViewController), SavedArticleContentViewController;

- Обязательно использовать UINavigationController/TabBarController - реализовано, используются оба: для переключения между основными экранами приложения (News, Search, Saved) используется TabBarController, для навигации внутри каждого из разделов используется UINavigationController;

- Deployment Target: iOS 13 - реализовано, Deployment Target iOS 13;

- Покрытие тестами 10% и более - реализовано, code coverage более 10%;

- Использование Архитектурных подходов и шаблонов проектирования - реализовано, в качестве архитектуры проекта выбрана MVC;

- Обязательно использовать UITableView / UICollectionView (один или оба) - реализовано, UITableView используется на экранах News (ViewController) и Saved (SavedNewsViewController);

- Верстка UI в коде - реализовано, UI выполнен в коде.


